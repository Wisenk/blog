<div class="container mt-5">
  <div class="card mx-auto" style="max-width: 600px;">
    <div class="card-body">
      <h4 class="card-title text-center mb-4">Edit Profile</h4>

      <%= form_with model: @user, local: true, multipart: true do |f| %>
        <div class="mb-3 text-center">
          <% if @user.profile_image.attached? %>
            <%= image_tag @user.get_profile_image, class: "rounded-circle mb-3", width: 150, height: 150 %>
          <% else %>
            <%= image_tag "no_image.jpg", class: "rounded-circle mb-3", width: 150, height: 150 %>
          <% end %>
        </div>

        <div class="form-group">
          <%= f.label :profile_image, "Change Profile Picture" %>
          <%= f.file_field :profile_image, class: "form-control-file" %>
        </div>

        <div class="form-group">
          <%= f.label :name, "Name" %>
          <%= f.text_field :name, class: "form-control" %>
        </div>

        <div class="form-group">
          <%= f.label :body, "About Me" %>
          <%= f.text_area :body, class: "form-control", rows: 3 %>
        </div>


        <%= f.submit "Save Changes", class: "btn btn-primary btn-block" %>
      <% end %>

      <%= link_to "Delete Account", @user, method: :delete, data: { confirm: "Are you sure you want to delete your account?" }, class: "btn btn-danger btn-block mt-2" %>
    </div>
  </div>
</div>
